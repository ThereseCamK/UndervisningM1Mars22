<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .lamp{
            background-color: blue;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            float: left;

        }
        .first
        {
            clear: left;
        }

        .lightOn{
            background-color: yellow;
        }

    </style>
</head>
<body>

    <div id="app"></div>

    <script>

// Legg til en onclick kun p√• den knappen som lyser - 
// og koble den til en kontroller-funksjonen du lagde i forrige punkt. 
        //model
        const allLamps = [''];
        let randomLightIndex = lightOn();
        let info= '';
        let startTime = new Date().getTime();

            let start = new Date().getTime();
            let end = ''
            let score = 0;
      

        //view
        updateView()
        function updateView(){
            let html = '';
            html += `<div>${end}</div>`

            for(let i = 0; i < 25; i++){
                let lightOn = i == randomLightIndex ? 'lightOn' : '';
                let isfirst = i % 5 == 0 ? 'first' : '';

                html += `<div class="lamp ${isfirst} ${lightOn}" onclick="turnOff(${i})"></div>`
                
            }


            document.getElementById('app').innerHTML = html;
        }

        //controller

        
        function lightOn(){

          return Math.floor(Math.random() * 25)
        
        }

        // function turnOff(selectedElement){
        //     var selectedElementClass = selectedElement.classList;
        //     console.log(selectedElementClass)
        //     if(selectedElementClass.contains('lightOn')){
        //         let finishTime = new Date().getTime();
        //         let spentMillseconds = Math.floor(finishTime - startTime);
        //         let spentSeconds = spentMillseconds / 1000;
        //         console.log(spentMillseconds, spentSeconds)
        //         info = `Du brukte: ${spentSeconds} sekunder:`;
        //          startTime = new Date().getTime();
        //         selectedElementClass.remove('lightOn');
        //         randomLightIndex = lightOn();
        //         updateView();
        //     }
       
     
        // }


                    function turnOff(i){
                pickedButton = i;
                if(pickedButton == randomLightIndex){
                    score++
                    var finish = new Date().getTime();
                    var spentMilliSecends = Math.floor(finish - start);
                    console.log(spentMilliSecends, 'millisekunder')
                    end =  spentMilliSecends / 1000;
                    start = new Date().getTime();

                    lightOn();
                }

                updateView();
            }

    </script>
</body>
</html>